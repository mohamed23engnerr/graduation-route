"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[478],{3478:(h,m,r)=>{r.r(m),r.d(m,{CategoriesProductComponent:()=>g});var n=r(6814),_=r(1120),t=r(4769),c=r(2709),u=r(1288),s=r(2425);const o=function(a){return["/details",a]};function d(a,C){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._UZ(3,"img",7),t.TgZ(4,"h5",8),t._uU(5),t.qZA(),t.TgZ(6,"h6"),t._uU(7),t.qZA(),t.TgZ(8,"div",9)(9,"span"),t._uU(10),t.qZA(),t.TgZ(11,"span"),t._UZ(12,"i",10),t._uU(13),t.qZA()()(),t.TgZ(14,"button",11),t.NdJ("click",function(){const l=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.addCart(l._id))}),t._uU(15,"Add To Cart"),t.qZA()()()}if(2&a){const e=C.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,o,e._id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH),t.xp6(2),t.Oqu(e.category.name),t.xp6(2),t.Oqu(e.title.split(" ",2).join(" ")),t.xp6(3),t.hij("",e.price," EGP"),t.xp6(3),t.hij(" ",e.ratingsAverage,"")}}let g=(()=>{class a{constructor(e,i,p,l){this._BlankService=e,this._ActivatedRoute=i,this._CartService=p,this.__ToastrService=l,this.categoriesProductId=[]}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.categoriesId=e.get("id")}}),this._BlankService.addToCategoriesId(this.categoriesId).subscribe({next:e=>{this.categoriesProductId=e.data}})}addCart(e){this._CartService.addToCart(e).subscribe({next:i=>{this.__ToastrService.success(i.message),this._CartService.cartNumber.next(i.numOfCartItems)},error:i=>{}})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(c.X),t.Y36(_.gz),t.Y36(u.N),t.Y36(s._W))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-categories-product"]],standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"pt-3"],[1,"container-fluid"],[1,"row","justify-content-center","g-4"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"],[1,"product","p-2"],[3,"routerLink"],["alt","",1,"w-100","mb-3",3,"src"],[1,"text-main"],[1,"d-flex","justify-content-between"],[1,"fas","fa-star","rating-color"],[1,"add-btn","btn","bg-main","text-white","w-100","mt-3",3,"click"]],template:function(i,p){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t.YNc(3,d,16,8,"div",3),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngForOf",p.categoriesProductId))},dependencies:[n.ez,n.sg,_.rH]})}return a})()},2709:(h,m,r)=>{r.d(m,{X:()=>t});var n=r(4769),_=r(9862);let t=(()=>{class c{constructor(s){this._HttpClient=s}getProduct(s=1){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products?page=${s}`)}getDetails(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products/${s}`)}getCategories(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/categories")}addToCategoriesId(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products?category[in]=${s}`)}getBrands(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/brands")}addToBrandsId(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products?brand=${s}`)}static#t=this.\u0275fac=function(o){return new(o||c)(n.LFG(_.eN))};static#e=this.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},1288:(h,m,r)=>{r.d(m,{N:()=>c});var n=r(5619),_=r(4769),t=r(9862);let c=(()=>{class u{constructor(o){this._HttpClient=o,this.cartNumber=new n.X(0),this.wishNumber=new n.X(0)}addToCart(o){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:o})}getToCart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeToCart(o){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${o}`)}upDataToCart(o,d){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${o}`,{count:d})}clearToCart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart")}checkOut(o,d){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${o}?url=http://localhost:4200`,
//!GitHup
{shippingAddress:d})}AllOlder(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/orders")}static#t=this.\u0275fac=function(d){return new(d||u)(_.LFG(t.eN))};static#e=this.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);